{"ast":null,"code":"var _jsxFileName = \"/home/khizer/Documents/AllData/ChimeraComplete/chimeraMain/src/partials/Collection/MainCollection.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Switch from \"react-switch\";\nimport \"react-dropdown/style.css\";\nimport \"../../css/check.css\";\nimport Web3 from \"web3\";\nimport Dropdown from \"react-dropdown\";\nimport config from \"../../config\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport Loader from \"../../partials/Loader\";\n\nconst chimeraContract = require(\"../../contracts/Chimera.json\");\n\nconst SMAV2Contract = require(\"../../contracts/ChimeraMarketAuctionV2.json\");\n\nlet SMAV2, web3, accounts, chimera;\nconst options = [\"Newest\", \"Lowest Price\", \"Highest Price\", \"Oldest\"];\n\nfunction MainCollection(props) {\n  const [checkedState, setCheckedState] = useState({\n    hasListPrice: false,\n    hasOpenOffer: false,\n    ownedByCreator: false,\n    hasSold: false,\n    hasReservePrice: false\n  });\n  const [selected, setSelected] = useState(\"\");\n  const [hooks_setSalePrice, setHooks_setSalePrice] = useState([]);\n  const [hooks_isConfirmedByAdmin, setHooks_setIsConfirmedByAdmin] = useState([]);\n  const [Alldata, setData] = useState([]);\n\n  function _onSelect(option) {\n    console.log(\"You selected \", option.value);\n    setSelected(option);\n  }\n\n  function handlehasListPrice(checked) {\n    setCheckedState({ ...checkedState,\n      hasListPrice: !checkedState.hasListPrice\n    });\n  }\n\n  function handlehasOpenOffer(checked) {\n    setCheckedState({ ...checkedState,\n      hasOpenOffer: !checkedState.hasOpenOffer\n    });\n  }\n\n  function handleownedByCreator(checked) {\n    setCheckedState({ ...checkedState,\n      ownedByCreator: !checkedState.ownedByCreator\n    });\n  }\n\n  function handlehasSold(checked) {\n    setCheckedState({ ...checkedState,\n      hasSold: !checkedState.hasSold\n    });\n  }\n\n  function handlehasReservePrice(checked) {\n    setCheckedState({ ...checkedState,\n      hasReservePrice: !checkedState.hasReservePrice\n    });\n  }\n\n  const [loading, setLoading] = useState(false);\n  const [NFTData, setNFTData] = useState([]);\n\n  async function callData() {\n    setLoading(true);\n    web3 = new Web3(window.ethereum);\n    window.ethereum.enable();\n    accounts = await web3.eth.getAccounts();\n    chimera = await new web3.eth.Contract(chimeraContract.abi, config.Chimera);\n    SMAV2 = await new web3.eth.Contract(SMAV2Contract.abi, config.SMAV2);\n    let nftData = [];\n    let ownerData = [];\n    let tokenId = [];\n    let nftPrice = [];\n    let artist = [];\n    let setSalePrice = [];\n    let isApprovedByAdmin = [];\n    let bidding = [];\n    let biddingBool = [];\n\n    try {\n      let totalSupply = await chimera.methods.totalSupply().call();\n\n      for (let i = 0; i < totalSupply; i++) {\n        let nfts = await chimera.methods.tokenByIndex(i).call();\n        let owner = await chimera.methods.ownerOf(nfts).call();\n\n        if (owner === accounts[0]) {\n          tokenId.push(nfts);\n          let res = await axios.get(`http://localhost:5000/file/${nfts}`);\n          nftData.push(res.data[0]);\n          let artistVar = await axios.get(`http://localhost:5000/api/users/${res.data[0].Artist}`);\n          artist.push(artistVar.data);\n          let ownerVar = await axios.get(`http://localhost:5000/api/users/${res.data[0].Owner}`);\n          ownerData.push(ownerVar.data);\n          let confirmed = await SMAV2.methods.isTokenConfirmedByAdmin(nfts).call();\n          isApprovedByAdmin.push(confirmed);\n          let price = await SMAV2.methods.tokenPrice(config.Chimera, nfts).call();\n          nftPrice.push(price);\n\n          if (price === \"0\") {\n            setSalePrice.push(false);\n          } else {\n            setSalePrice.push(true);\n          }\n\n          let bid = await SMAV2.methods.currentBidDetailsOfToken(config.Chimera, nfts).call();\n          bidding.push(bid);\n\n          if (bid[0] === \"0\") {\n            biddingBool.push(false);\n          } else {\n            biddingBool.push(true);\n          }\n        }\n      }\n\n      Promise.all([nftData, ownerData, tokenId, nftPrice, artist, setSalePrice, isApprovedByAdmin, bidding, biddingBool]).then(res => {\n        console.log(res);\n        let d = [];\n        d.nftData = res[0];\n        d.ownerData = res[1];\n        d.tokenId = res[2];\n        d.tokenPrice = res[3];\n        d.artistData = res[4];\n        d.setSalePrice = res[5];\n        d.isApprovedByAdmin = res[6];\n        d.biddingPrice = res[7];\n        d.biddingOrNot = res[8];\n        setData(d);\n        setNFTData(res[0]);\n        setLoading(false);\n      });\n    } catch (error) {\n      console.log(error);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Something went wrong!\"\n      });\n    }\n  }\n\n  useEffect(() => {\n    callData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-6xl mt-32 mx-auto px-4 sm:px-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" gridsm:grid-cols-12 gap-8 py-20 md:py-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \" lg:text-4xl font-bold text-black sm:text-2xl\",\n    \"data-aos\": \"zoom-y-out\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \"Artworks collected by\"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"lg:text-2xl  text-blue-900 hover:text-blue-1000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, \"@\", localStorage.getItem(\"name\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-6xl   mx-auto px-4 sm:px-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-6  py-8 md:py-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-sm  grid gap-6 md:grid-cols-12 lg:grid-cols-12  md:max-w-2xl lg:max-w-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm:col-span-12 lg:col-span-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-sm  grid gap-6 md:grid-cols-12 lg:grid-cols-12  md:max-w-2xl lg:max-w-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm:col-span-12 lg:col-span-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xs font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, \"FILTER BY:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm:col-span-12 lg:col-span-3 flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    checked: checkedState.hasListPrice,\n    onChange: handlehasListPrice,\n    onColor: \"#d9d9d9\",\n    onHandleColor: \"#337ab7\",\n    handleDiameter: 20,\n    uncheckedIcon: false,\n    checkedIcon: false,\n    boxShadow: \"0px 1px 5px rgba(0, 0, 0, 0.6)\",\n    activeBoxShadow: \"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\",\n    height: 10,\n    width: 38,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2 font-bold text-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  }, \"Has list price\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm:col-span-12 lg:col-span-3 flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    checked: checkedState.hasOpenOffer,\n    onChange: handlehasOpenOffer,\n    onColor: \"#d9d9d9\",\n    onHandleColor: \"#337ab7\",\n    handleDiameter: 20,\n    uncheckedIcon: false,\n    checkedIcon: false,\n    boxShadow: \"0px 1px 5px rgba(0, 0, 0, 0.6)\",\n    activeBoxShadow: \"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\",\n    height: 10,\n    width: 38,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2 font-bold text-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 21\n    }\n  }, \"Has open offer\"), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-auto sm:col-span-12 lg:col-span-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xs font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, \"SORT BY:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    options: options,\n    onChange: _onSelect,\n    value: selected,\n    placeholder: options[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  }), \" \")))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-6xl mt-10 mx-auto px-4 sm:px-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" gridsm:grid-cols-12 gap-8 py-8 md:py-12 border-t border-black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative max-w-10xl mx-auto  sm:px-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-8 md:py-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-sm mx-auto grid gap-8 md:grid-cols-2 lg:grid-cols-3 md:max-w-2xl lg:max-w-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 23\n    }\n  }, Alldata.map((d, key) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 31\n      }\n    }, NFTData[key].name));\n  }))))))))));\n}\n\nexport default MainCollection;","map":{"version":3,"sources":["/home/khizer/Documents/AllData/ChimeraComplete/chimeraMain/src/partials/Collection/MainCollection.js"],"names":["React","useState","useEffect","Switch","Web3","Dropdown","config","Swal","axios","Loader","chimeraContract","require","SMAV2Contract","SMAV2","web3","accounts","chimera","options","MainCollection","props","checkedState","setCheckedState","hasListPrice","hasOpenOffer","ownedByCreator","hasSold","hasReservePrice","selected","setSelected","hooks_setSalePrice","setHooks_setSalePrice","hooks_isConfirmedByAdmin","setHooks_setIsConfirmedByAdmin","Alldata","setData","_onSelect","option","console","log","value","handlehasListPrice","checked","handlehasOpenOffer","handleownedByCreator","handlehasSold","handlehasReservePrice","loading","setLoading","NFTData","setNFTData","callData","window","ethereum","enable","eth","getAccounts","Contract","abi","Chimera","nftData","ownerData","tokenId","nftPrice","artist","setSalePrice","isApprovedByAdmin","bidding","biddingBool","totalSupply","methods","call","i","nfts","tokenByIndex","owner","ownerOf","push","res","get","data","artistVar","Artist","ownerVar","Owner","confirmed","isTokenConfirmedByAdmin","price","tokenPrice","bid","currentBidDetailsOfToken","Promise","all","then","d","artistData","biddingPrice","biddingOrNot","error","fire","icon","title","text","localStorage","getItem","map","key","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Switch from \"react-switch\";\nimport \"react-dropdown/style.css\";\nimport \"../../css/check.css\";\nimport Web3 from \"web3\";\nimport Dropdown from \"react-dropdown\";\nimport config from \"../../config\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\n\nimport Loader from \"../../partials/Loader\";\nconst chimeraContract = require(\"../../contracts/Chimera.json\");\nconst SMAV2Contract = require(\"../../contracts/ChimeraMarketAuctionV2.json\");\nlet SMAV2, web3, accounts, chimera;\n\nconst options = [\"Newest\", \"Lowest Price\", \"Highest Price\", \"Oldest\"];\nfunction MainCollection(props) {\n  const [checkedState, setCheckedState] = useState({\n    hasListPrice: false,\n    hasOpenOffer: false,\n    ownedByCreator: false,\n    hasSold: false,\n    hasReservePrice: false,\n  });\n  const [selected, setSelected] = useState(\"\");\n  const [hooks_setSalePrice, setHooks_setSalePrice] = useState([]);\n  const [hooks_isConfirmedByAdmin, setHooks_setIsConfirmedByAdmin] = useState(\n    []\n  );\n  const [Alldata, setData] = useState([]);\n  function _onSelect(option) {\n    console.log(\"You selected \", option.value);\n    setSelected(option);\n  }\n\n  function handlehasListPrice(checked) {\n    setCheckedState({\n      ...checkedState,\n      hasListPrice: !checkedState.hasListPrice,\n    });\n  }\n  function handlehasOpenOffer(checked) {\n    setCheckedState({\n      ...checkedState,\n      hasOpenOffer: !checkedState.hasOpenOffer,\n    });\n  }\n  function handleownedByCreator(checked) {\n    setCheckedState({\n      ...checkedState,\n      ownedByCreator: !checkedState.ownedByCreator,\n    });\n  }\n  function handlehasSold(checked) {\n    setCheckedState({\n      ...checkedState,\n      hasSold: !checkedState.hasSold,\n    });\n  }\n  function handlehasReservePrice(checked) {\n    setCheckedState({\n      ...checkedState,\n      hasReservePrice: !checkedState.hasReservePrice,\n    });\n  }\n  const [loading, setLoading] = useState(false);\n  const [NFTData, setNFTData] = useState([]);\n  async function callData() {\n    setLoading(true);\n    web3 = new Web3(window.ethereum);\n    window.ethereum.enable();\n    accounts = await web3.eth.getAccounts();\n    chimera = await new web3.eth.Contract(chimeraContract.abi, config.Chimera);\n    SMAV2 = await new web3.eth.Contract(SMAV2Contract.abi, config.SMAV2);\n\n    let nftData = [];\n    let ownerData = [];\n    let tokenId = [];\n    let nftPrice = [];\n    let artist = [];\n    let setSalePrice = [];\n    let isApprovedByAdmin = [];\n    let bidding = [];\n    let biddingBool = [];\n    try {\n      let totalSupply = await chimera.methods.totalSupply().call();\n      for (let i = 0; i < totalSupply; i++) {\n        let nfts = await chimera.methods.tokenByIndex(i).call();\n        let owner = await chimera.methods.ownerOf(nfts).call();\n        if (owner === accounts[0]) {\n          tokenId.push(nfts);\n          let res = await axios.get(`http://localhost:5000/file/${nfts}`);\n          nftData.push(res.data[0]);\n\n          let artistVar = await axios.get(\n            `http://localhost:5000/api/users/${res.data[0].Artist}`\n          );\n          artist.push(artistVar.data);\n\n          let ownerVar = await axios.get(\n            `http://localhost:5000/api/users/${res.data[0].Owner}`\n          );\n          ownerData.push(ownerVar.data);\n          let confirmed = await SMAV2.methods\n            .isTokenConfirmedByAdmin(nfts)\n            .call();\n          isApprovedByAdmin.push(confirmed);\n\n          let price = await SMAV2.methods\n            .tokenPrice(config.Chimera, nfts)\n            .call();\n          nftPrice.push(price);\n          if (price === \"0\") {\n            setSalePrice.push(false);\n          } else {\n            setSalePrice.push(true);\n          }\n          let bid = await SMAV2.methods\n            .currentBidDetailsOfToken(config.Chimera, nfts)\n            .call();\n          bidding.push(bid);\n          if (bid[0] === \"0\") {\n            biddingBool.push(false);\n          } else {\n            biddingBool.push(true);\n          }\n        }\n      }\n      Promise.all([\n        nftData,\n        ownerData,\n        tokenId,\n        nftPrice,\n        artist,\n        setSalePrice,\n        isApprovedByAdmin,\n        bidding,\n        biddingBool,\n      ]).then((res) => {\n        console.log(res);\n        let d = [];\n        d.nftData = res[0];\n        d.ownerData = res[1];\n        d.tokenId = res[2];\n        d.tokenPrice = res[3];\n        d.artistData = res[4];\n        d.setSalePrice = res[5];\n        d.isApprovedByAdmin = res[6];\n        d.biddingPrice = res[7];\n        d.biddingOrNot = res[8];\n        setData(d);\n        setNFTData(res[0]);\n        setLoading(false);\n      });\n    } catch (error) {\n      console.log(error);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Something went wrong!\",\n      });\n    }\n  }\n\n  useEffect(() => {\n    callData();\n  }, []);\n\n  return (\n    <>\n      <div>\n        <div className=\"max-w-6xl mt-32 mx-auto px-4 sm:px-6\">\n          {/* Top area: Blocks */}\n          <div className=\" gridsm:grid-cols-12 gap-8 py-20 md:py-12\">\n            <span\n              className=\" lg:text-4xl font-bold text-black sm:text-2xl\"\n              data-aos=\"zoom-y-out\"\n            >\n              Artworks collected by\n            </span>{\" \"}\n            <a\n              href=\"#\"\n              className=\"lg:text-2xl  text-blue-900 hover:text-blue-1000\"\n            >\n              @{localStorage.getItem(\"name\")}\n            </a>\n          </div>\n        </div>\n      </div>\n      <div>\n        <div className=\"max-w-6xl   mx-auto px-4 sm:px-6\">\n          {/* Top area: Blocks */}\n          <div className=\"px-6  py-8 md:py-12\">\n            {/* 1st block */}\n            <div className=\"max-w-sm  grid gap-6 md:grid-cols-12 lg:grid-cols-12  md:max-w-2xl lg:max-w-none\">\n              <div className=\"sm:col-span-12 lg:col-span-9\">\n                <div className=\"max-w-sm  grid gap-6 md:grid-cols-12 lg:grid-cols-12  md:max-w-2xl lg:max-w-none\">\n                  <div className=\"sm:col-span-12 lg:col-span-12\">\n                    <h1 className=\"text-xs font-bold\">FILTER BY:</h1>\n                  </div>\n                  <div className=\"sm:col-span-12 lg:col-span-3 flex\">\n                    <Switch\n                      checked={checkedState.hasListPrice}\n                      onChange={handlehasListPrice}\n                      onColor=\"#d9d9d9\"\n                      onHandleColor=\"#337ab7\"\n                      handleDiameter={20}\n                      uncheckedIcon={false}\n                      checkedIcon={false}\n                      boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n                      activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n                      height={10}\n                      width={38}\n                    />\n                    <span className=\"ml-2 font-bold text-xs\">\n                      Has list price\n                    </span>{\" \"}\n                  </div>\n                  <div className=\"sm:col-span-12 lg:col-span-3 flex\">\n                    <Switch\n                      checked={checkedState.hasOpenOffer}\n                      onChange={handlehasOpenOffer}\n                      onColor=\"#d9d9d9\"\n                      onHandleColor=\"#337ab7\"\n                      handleDiameter={20}\n                      uncheckedIcon={false}\n                      checkedIcon={false}\n                      boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n                      activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n                      height={10}\n                      width={38}\n                    />\n                    <span className=\"ml-2 font-bold text-xs\">\n                      Has open offer\n                    </span>{\" \"}\n                  </div>\n                </div>\n              </div>\n              <div className=\"mx-auto sm:col-span-12 lg:col-span-3\">\n                <div>\n                  <h1 className=\"text-xs font-bold\">SORT BY:</h1>\n                </div>\n                <div className=\"mt-3\">\n                  <Dropdown\n                    options={options}\n                    onChange={_onSelect}\n                    value={selected}\n                    placeholder={options[0]}\n                  />{\" \"}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* Recent Activity */}\n      <div>\n        <div className=\"max-w-6xl mt-10 mx-auto px-4 sm:px-6\">\n          {/* Top area: Blocks */}\n          <div className=\" gridsm:grid-cols-12 gap-8 py-8 md:py-12 border-t border-black\">\n            {loading ? (\n              <>\n                <Loader />\n              </>\n            ) : (\n              <>\n                <section className=\"relative\">\n                  {/* Section background (needs .relative class on parent and next sibling elements) */}\n\n                  <div className=\"relative max-w-10xl mx-auto  sm:px-6\">\n                    <div className=\"py-8 md:py-10\">\n                      {/* Items */}\n                      <div className=\"max-w-sm mx-auto grid gap-8 md:grid-cols-2 lg:grid-cols-3 md:max-w-2xl lg:max-w-none\">\n                        {/* 1st item */}\n\n                        {/*Loop Start*/}\n                        {Alldata.map((d, key) => {\n                          return (\n                            <>\n                              <h1>{NFTData[key].name}</h1>\n                            </>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  </div>\n                </section>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\nexport default MainCollection;\n"]},"metadata":{},"sourceType":"module"}